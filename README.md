# 簡易的なカロリー計算を行うツールです

以下、2つのコマンドラインアプリケーションから構成されています

1. calcal
2. caltotal

---

## usage: calcal

以下、3種の主要栄養素の値を指定することで、各栄養素のカロリー計算を行います

1. 蛋白質
2. 脂質
3. 炭水化物

### コマンドラインによる実行方法

**ビルド前のファイルで実行する場合**

各オプションの意味は以下の通りです。単位はグラムです。

* -p: 蛋白質
* -f: 脂質
* -c: 炭水化物

```
go run ./cmd/calcal/main.go -p 10 -f 20 -c 30
```

**ビルドしたバイナリファイルで実行する場合**

※各OS及びアーキテクチャごとにバイナリファイルが作成されていますので、それをダウンロードして実行してください

```
./calcal-mac-amd64 -p 10 -f 20 -c 30
```

---

## usage: caltotal

食品を指定することで、各食品のカロリー計算を行います。
また、複数の食品を指定した場合は、その食品の合計カロリーを出力します。

### コマンドラインによる実行方法

**ビルド前のファイルで実行する場合**

コマンドの後に、食品を指定してください。
複数の食材がある場合は、カンマ区切りで指定をしてください。

```
go run ./cmd/caltotal/main.go "ご飯,納豆"
```

ビルドしたバイナリファイルで実行する場合

※各OS及びアーキテクチャごとにバイナリファイルが作成されていますので、それをダウンロードして実行してください

```
./caltotal-mac-amd64 "ご飯,納豆"
```

### 付記

食品のデータは、「pkg/models/data/meals.csv」に保存されています。
このデータはCSVファイルですが、ビルド時にバイナリファイルに取り込まれています。
データを追加する場合は、CSVファイルの修正後に、ビルドを行う必要があります。

---

# Notes

## macOSのセキュリティ

macにバイナリファイルをダウンロードして実行する場合、セキュリティにより実行ができない場合があります。
以下のコマンドにより、macOS の Gatekeeper による「ダウンロードされたファイルの安全性チェック」を解除することで、実行はできるようになります。
（……が、自己責任で）

```
xattr -d com.apple.quarantine caltotal-mac-amd64
```

※Windows版は未検証です

## バイナリファイルのダウンロード

バイナリファイルのダウンロードは以下から可能です。

[Releases · ken344/calcal](https://github.com/ken344/calcal/releases)
